{% extends "base.html" %}


 

  {% block app_content %}

  <style>
  .table th.middle {
      width: 90px;
  }
  .table input {
      margin: 5px 10px;
      
  }
  .table td.eingabe {
      width: 300px;
  }
  .table td.submit {
      padding: 5px;
  }
  .save {
      margin-left: 10px;
  }
  
  .table td.buttons {
      align-content: center;
      vertical-align: middle;
  }

  .right{
    justify-content: right;
    display: flex;
  }

  </style>


    <form action="/" method="post" novalidate>
      {{ form.csrf_token }}
        <table class="table table-sm asn">
            <thead> 
              <tr>
                <th>{{ form.eingabe.label }}</th>
                <!-- <th class="middle">Auswahl</th> -->
                <th >{{ form.selected.label }}</th>
              </tr>
            </thead>
            <tbody>

                <tr>
                    <td> Suche eine Zutat: {{ form.suchfeld }} {{ form.sumbitAddSuchbegriff(style="visibility: hidden;") }}</td>
                </tr>


                <tr>

                  <!-- Hier ist Zelle mit verschiedenen Kategorien -->
                  <td width="80%">
                  <!-- <div style="overflow-y:scroll;height:800px"> -->
                  {% for i in range(0, form.kategorien|length) %}
                      <div>
                      {% set kategorie = form.kategorien[i] %}
                          <p><h4><b>{{ kategorie.name }}</b></h4></p>

                      <!-- Buttons mit allen Zutaten: -->
                      <p>
                      {% for j in range(0, kategorie.zutaten|length) %}
                          {% set zutatname = kategorie.zutaten[j].name %}
                          {% if not zutatname in choices_array %}
                          <button name="btn{{ zutatname }}" class="btn btn-light btn-lg"> {{ zutatname }} </button>
                          {% endif %}
                      {% endfor %}
                      </p>

                      </div>

                  {% endfor %}
                  <!-- </div> BEENDET SCROLLLEISTE -->
                  </td>

                  <td>
                      <table>
                      {% for chosenZutat in choices_array %}
                        <tr>
                            <td><button name="btn{{ chosenZutat }}" class="btn btn-info btn-lg" style="width:100%; background-color:white" > {{ chosenZutat }} </button></td>
                        </tr>
                      {% endfor %}

                          <!-- Blende rezeptsuche-Button aus, wenn keine Zutaten ausgewählt -->
                          {% if choices_array|length != 0 %}
                          <tr><td class="right">{{ form.submitSuchen(class="btn btn-primary btn-lg")}}</td></tr>
                          <!-- TODO: Bei 0 ausgewählten Zutaten Button für Allgemeine Rezepteliste hier einfügen -->
                          {% endif %}
                      </table>
                  </td>

                    <!-- Alte AUswahlliste -->
                  <!-- <td class="eingabe">{{form.selected(size=15, class='form-control',multiple='multiple')}}</td> -->
                </tr>


                <tr>
                    <!-- ALter AUswahl lösen <td class="save">{{ form.submitLoesen(class="btn btn-primary") }}</td> -->

                </tr>
            </tbody>
        </table>
    </form>

    <script>
        $(document).ready(function() {
            $('#suchfeld').select2({  // init Select2 on form's suchfeld field
                placeholder: "{{ form.suchfeld.label.text }}",
                allowClear: true,
                "width": "style"
            });
            $('#suchfeld').on('select2:select', function (e) {
                $('#sumbitAddSuchbegriff').click()
            return false;

        });

        });
    </script>

  {% endblock %}
