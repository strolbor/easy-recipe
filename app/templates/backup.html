<html>   
<body>
from app import db<br />
from app.rezept import rezept, zutat, tags, handlungsschritt<br />
<br />
def addZutat(name, einheit, bild, id):<br />
&nbsp;&nbsp;&nbsp;&nbsp;new = zutat(name=name, einheit=einheit, bild=bild,id=id))<br />
&nbsp;&nbsp;&nbsp;&nbsp;db.session.add(new)<br />
&nbsp;&nbsp;&nbsp;&nbsp;db.session.commit()<br />
    <br />
def addRezept(name, bild,id):<br />
&nbsp;&nbsp;&nbsp;&nbsp;new = rezept(name=name, bild=bild,id=id)<br />
&nbsp;&nbsp;&nbsp;&nbsp;db.session.add(new)<br />
&nbsp;&nbsp;&nbsp;&nbsp;db.session.commit()<br />
    <br />
def addHandlung(bild, bild2,text,id):<br />
&nbsp;&nbsp;&nbsp;&nbsp;new = handlungsschritt(bild=bild, bild2=bild2,text=text,id=id)<br />
&nbsp;&nbsp;&nbsp;&nbsp;db.session.add(new)<br />
&nbsp;&nbsp;&nbsp;&nbsp;db.session.commit()<br />
    <br />
def addTags(name,id):<br />
&nbsp;&nbsp;&nbsp;&nbsp;new = tags(name=name,id=id)<br />
&nbsp;&nbsp;&nbsp;&nbsp;db.session.add(new)<br />
&nbsp;&nbsp;&nbsp;&nbsp;db.session.commit()<br />

    <br />
    # Es werden alle Rezepte angelegt<br />
    {% for entry in rezept %}
        addRezept(name="{{entry.name}}",bild="{{entry.bild}}",id={{entry.id}})<br />
    {% endfor %}   
    <br />

    # Es werden alle Zutaten angelegt<br />
    {% for entry in zutaten %}
        addZutat(name="{{entry.name}}",bild="{{entry.bild}}",einheit="{{entry.einheit}}",id={{entry.id}})<br />
    {% endfor %}
    <br />

    # Es werden alle handlungsschritte angelegt<br />
    {% for entry in handlungsschritte %}
        addHandlung(text="{{entry.text}}",bild="{{entry.bild}}",bild2="{{entry.bild2}}",id={{entry.id}})<br />
    {% endfor %}    
    <br />

    # Es werden alle Tags angelegt<br />
    {% for entry in tags %}
        addTags(name="{{entry.name}}",id={{entry.id}})<br />
    {% endfor %}
    <br />
    {% for entry2 in rezept %}
        {% for entry3 in rezept.zutaten %}
            r = rezept.query.get({{entry2.id}})<br />
            r.zutaten.append(zutat.query.get({{entry2.id}}))<br />
            db.session.commit()<br />
        {% endfor %}
    {% endfor %}
    <br />
    {% for entry in rezept %}
    # Das Rezept {{entry.name}} hat folgende Zutaten: {{entry.zutaten}}<br />
        {% for entry2 in entry.zutaten %}
            r = rezept.query.get({{entry.id}})<br />
            r.zutaten.append(zutat.query.get({{entry2.id}}))<br />
            db.session.commit()<br />
        {% endfor %}
    {% endfor %}
    <br />
    {% for entry in rezept %}
    # Das Rezept {{entry.name}} hat folgende Tags: {{entry.tags}}<br />
        {% for entry2 in entry.tags %}
            r = rezept.query.get({{entry.id}})<br />
            r.tags.append(tags.query.get({{entry2.id}}))<br />
            db.session.commit()<br />
        {% endfor %}
    {% endfor %}
    <br />
    db.session.commit()
</body></html>